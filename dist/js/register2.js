function register2(){var e=$("#p-register2").find(".login_psd"),r=$("#p-register2").find(".nickname");$("#p-register2").find(".button").click(function(){if(e.each(function(r){e.eq(r).val()||(e.eq(r).addClass("ipt-error"),$("<span class='ipt-error-text'>请设置密码</span>").insertAfter(e.eq(r)))}),r.val()||(r.addClass("ipt-error"),$("<span class='ipt-error-text'>请设置昵称</span>").insertAfter(r)),e.eq(0).val()&&e.eq(1).val()&&e.eq(0).val()!=e.eq(1).val()&&(e.addClass("ipt-error"),$("<span class='ipt-error-text'>两次密码不一致</span>").insertAfter(e)),r.val()&&e.eq(0).val()&&e.eq(1).val()&&e.eq(0).val()==e.eq(1).val()){var t=$.getUrlParam("tel"),n=CryptoJS.MD5(e.eq(1).val()).toString();$.ajax({type:"post",url:luanmingli.getUrl+"register",data:{v:luanmingli.srvVersion,content:encryptByDES(JSON.stringify({phoneNum:t,password:n,nickName:r.val(),channelid:luanmingli.channel,appversion:luanmingli.version,clienttype:3}))},dataType:"json",async:!0,success:function(e){window.sessionStorage.removeItem("yzm"),0==e.stateCode?$.alert("注册成功",function(){$.showIndicator(),luanmingli.userId=e.userInfo.userId,luanmingli.userInfo=e.userInfo,window.localStorage.setItem("userId",e.userInfo.userId),window.localStorage.setItem("userInfo",JSON.stringify(e.userInfo)),window.localStorage.setItem("userKey",e.userInfo.userKey),window.localStorage.setItem("mid",CryptoJS.MD5(e.userInfo.userId).toString()),window.localStorage.setItem("loginSrv",luanmingli.getUrl),$.router.load("personal.html")}):9==e.stateCode?$.alert("账户已存在，请直接登录",function(){$.showIndicator(),window.history.go(-2)}):$.alert(e.message)}})}}),e.focus(function(){e.removeClass("ipt-error"),$(".ipt-error-text").remove()}),r.focus(function(){r.removeClass("ipt-error"),$(".ipt-error-text").remove()})}$(function(){try{register2()}catch(e){}});